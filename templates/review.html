{% extends "layout.html" %}

{% block title %}
    Visits
{% endblock %}

{% block main %}
<main class = container py-5 text-center>
    <table class="table table-hover">
        <thead>
            <tr>
            <th class = "text-start">Name</th>
            <th class = "text-end">Rating</th>
            <th class = "text-end"> Price level</th>
            <th class = "text-end">Time</th>
            <th class = "text-end">Data source</th>
            </tr>
        </thead>
        <tbody>
            {% for trans in vis %}
            <tr>
                    <td class ="text-start">{{ trans["name"] }}</td>
                    <td class ="text-end">{{ trans["rating"] }}</td>
                    <td class ="text-end">{{ trans["level"] }}</td>
                    <td class ="text-end">{{ trans["time"] }}</td>
                    <td class ="text-end">{{ trans["rsource"] }}</td>
                    <td>
                        <form action="/review" method="post" id = "rev">
                            <input type="hidden" name="test" value = {{ trans['place_id'] }}>
                            <input type="hidden" name="name" value = {{ trans['name']| replace(' ', '%') }}>
                            <input type="hidden" name="rat" value = {{ trans['rating'] }}>
                            <input type="hidden" name="lev" value = {{ trans['level'] }}>
                            <input type="hidden" name="time" value = {{ trans['time'] | replace(' ', '%') }}>
                            <input type="hidden" name="source" value = {{ trans['rsource'] }}>
                            <button class="btn btn-outline-secondary" type="submit">Let's review!</button>
                        </form>
                    </td>
                    
            </tr>
            {% endfor %}
        </tbody>
    </table>
</main>
{% endblock %}